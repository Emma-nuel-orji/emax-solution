{% extends 'layouts.html' %}

{% block content %}

   <div id="content-wrapper">

     <div class="container-fluid">

       <!-- Breadcrumbs-->
       <ol class="breadcrumb">
         <li class="breadcrumb-item">
           <a href="#">Dashboard</a>
         </li>
         <li class="breadcrumb-item active">Tables</li>
       </ol>

       <!-- Post DataTables Example -->
       <br><br>  <h2 style="text-align:center ;"> PROPERTY LIST </h2> 
       <div class="col-md-7 align-self-center">
        <a href="{{url_for('posts.propertiespost')}}" class="btn waves-effect waves-light btn btn-info pull-right hidden-sm-down"> Add New Property</a>
    </div><br>
       <div class="card mb-3">
         <div class="card-header">
           <i class="fas fa-table"></i>
           Data Table Example</div>
         <div class="card-body">
           <div class="table-responsive">
             <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
               <thead>
                 <tr>
                   <th>ID</th>
                   <th> Name</th>
                   <th>Image</th>
                   <th>Price</th>
                   <th>Square</th>
                   <th>Status</th>
                   <th>Price</th>
                   <th>No Of Bed</th>
                   <th>No Of floor</th>
                   <th>No Of Bat</th>
                   <th>Location</th>
                   <th>Edit</th>
                   <th>Action</th>
                 </tr>
               </thead>
               <tbody>
                {% for prop in property %}
                 <tr>
                  <td> {{prop.id}} </td>
                   <td>{{ prop.name }}</td> 
                   <td><img  src="{{url_for('static', filename='img/' + prop.image)}}" width="50" height="50"/></td>
                   <td>{{prop.price}}</td>
                   <td>{{prop.square}}</td>
                   <td>{{prop.status}}</td>
                   <td>{{prop.bathroom}}</td> 
                   <td>{{prop.bedroom}}</td> 
                   <td>{{prop.floors}}</td> 
                   <td>{{prop.location}}</td> 
                   <td><a class="btn-success btn" href=""> Edit </a></td>
                   <td>
                     <button type="button" class="btn btn-danger btn-sm m-2" data-toggle="modal" data-target="#deleteModal">Delete</button>
                   </td>
                 </tr>

                 <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModal" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="deleteModalLabel">Delete Post</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <form action="{{ url_for('main.delete_prop',prop_id=prop.id) }}" method="POST" style="display: inline-block">
                                <input class="btn-danger" type="submit" value="Delete">
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                {% endfor %}

               </tbody>
             </table>
           </div>

         </div>
         <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
       </div>



     </div>
     </div>

     <!-- /.container-fluid -->
       {% endblock content %}